{% extends "monsite/base.html" %}

{% load static %}


{% block content %}
<div class="container my-5">
    <h2 class="text-center mb-4">Programmation des Scènes</h2>

    <!-- Filtres de tri -->
    <div class="mb-4 row">
        <div class="col-md-6 mb-2">
            <label for="dateSelect" class="form-label">Sélectionnez une date :</label>
            <select id="dateSelect" class="custom-select">
                <option value="all">Toutes les dates</option>
                {% for date in dates %}
                    <option value="{{ date }}">{{ date }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-6 mb-2">
            <label for="sceneSelect" class="form-label">Sélectionnez une scène :</label>
            <select id="sceneSelect" class="custom-select">
                <option value="all">Toutes les scènes</option>
                {% for scene in scenes %}
                    <option value="{{ scene.nom_scene }}">{{ scene.nom_scene }}</option>
                {% endfor %}
            </select>
        </div>
    </div>

    <!-- Liste des concerts -->
    <div class="row" id="concertList">
        {% for concert in concerts %}
            <div class="col-md-4 mb-4 concert-item" data-date="{{ concert.date_concert }}" data-scene="{{ concert.scene.nom_scene }}">
                <div class="card shadow-sm">
                    {% if concert.artiste.photo %}
                        <img src="{{ concert.artiste.photo.url }}" class="card-img-top" alt="{{ concert.artiste.nom }}">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ concert.artiste.nom }}</h5>
                        <p class="card-text"><strong>Scène :</strong> {{ concert.scene.nom_scene }}</p>
                        <p class="card-text"><strong>Date :</strong> {{ concert.date_concert }}</p>
                        <p class="card-text"><strong>Heure :</strong> {{ concert.heure_concert }}</p>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="col-12 text-center">
                <p class="text-muted">Aucun concert trouvé.</p>
            </div>
        {% endfor %}
    </div>
</div>

<!-- Inclure le script -->
<script src="{% static 'js/filters.js' %}"></script>

{% endblock %}
